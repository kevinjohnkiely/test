{"version":3,"sources":["firebase.js","context/AuthContext.js","components/Header.js","components/Movie/ResultCard.js","components/Movie/MovieControls.js","components/Movie/MovieCard.js","components/Movie/MyFaves.js","components/Movie/Add.js","components/Auth/Signup.js","components/Auth/Login.js","components/Auth/Dashboard.js","components/Auth/MyDetails.js","components/Auth/PrivateRoute.js","components/Auth/ForgotPassword.js","components/Auth/UpdateProfile.js","components/Movie/Favourites.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","setPersistence","Auth","Persistence","SESSION","then","catch","error","errorCode","code","errorMessage","message","alert","AuthContext","React","createContext","useAuth","useContext","AuthProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","react_default","a","createElement","Provider","Header","_useAuth","setError","history","useHistory","_handleLogout","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","push","t0","stop","apply","this","arguments","Navbar","collapseOnSelect","expand","bg","variant","Brand","Toggle","Collapse","Nav","className","Fragment","Link","as","to","Form","inline","Button","onClick","ResultCard","props","movie","addMovie","storedMovie","faves","find","obj","id","favouritesDisabled","buttonText","poster_path","src","concat","alt","title","release_date","substring","disabled","MovieControls","MovieCard","removeMovie","movid","MovieControls_MovieControls","MyFaves","length","map","MovieCard_MovieCard","key","Add","setFaves","query","setQuery","_useState5","_useState6","results","setResults","_useState7","_useState8","users","setUsers","_useState9","_useState10","lookingFor","setLookingFor","_useState11","_useState12","username","setUsername","_useState13","_useState14","matches","setMatches","_useState15","_useState16","show","setShow","_useState17","_useState18","isLoading","setIsLoading","_useState19","_useState20","_useState21","_useState22","showError","setShowError","fetch","uid","response","json","responseData","loadedGender","loadedName","name","loadedMovies","objectSpread2","loadedUsers","userMovies","userName","gender","fkey","favourites","nkey","userdetails","userid","movies","method","body","JSON","stringify","headers","Content-Type","prevFaves","toConsumableArray","arrayFaves","matchesOutput","areThereFaves","match","counter","style","backgroundColor","padding","color","textTransform","handleClose","Alert","onClose","dismissible","myfaves","objectFaves","yourMatches","prevName","x","y","z","findMatches","type","placeholder","onChange","e","preventDefault","target","data","errors","ResultCard_ResultCard","Spinner","animation","MyFaves_MyFaves","movieId","filter","Modal","onHide","closeButton","Title","Body","Footer","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","_handleSubmit","current","abrupt","width","margin","paddingTop","Card","onSubmit","_x","Group","Label","Control","ref","required","react_router_dom","Login","Dashboard","MyDetails","yourName","setYourName","yourGender","setYourGender","lookingForGender","setLookingForGender","onAddYourDetails","yourDetails","handleLogout","event","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","ForgotPassword","setMessage","UpdateProfile","promises","Promise","all","finally","defaultValue","Favourites","App","Header_Header","exact","path","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6b7d6c8b.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport \"firebase/auth\"\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nfirebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION)\r\n  .then(function() {\r\n    // Existing and future Auth states are now persisted in the current\r\n    // session only. Closing the window would clear any existing state even\r\n    // if a user forgets to sign out.\r\n    // ...\r\n    // New sign-in will be persisted with session persistence.\r\n    // return firebase.auth().signInWithEmailAndPassword(email, password);\r\n  })\r\n  .catch(function(error) {\r\n    // Handle Errors here.\r\n    var errorCode = error.code;\r\n    var errorMessage = error.message;\r\n    alert(errorCode, errorMessage)\r\n  });\r\n\r\nexport const auth = app.auth()\r\nexport default app","import React, { useContext, useState, useEffect } from 'react'\r\nimport { auth } from '../firebase'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({children}) {\r\n\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    function signup(email, password) {\r\n        return auth.createUserWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function login(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function logout() {\r\n        return auth.signOut()\r\n    }\r\n\r\n    function resetPassword(email){\r\n        return auth.sendPasswordResetEmail(email)\r\n    }\r\n\r\n    function updateEmail(email) {\r\n        return currentUser.updateEmail(email)\r\n    }\r\n\r\n    function updatePassword(password){\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })        \r\n        return unsubscribe\r\n    }, [])\r\n\r\n    const value = {\r\n        currentUser,\r\n        login,\r\n        signup,\r\n        logout,\r\n        resetPassword,\r\n        updateEmail,\r\n        updatePassword\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuth } from '../context/AuthContext'\r\nimport './Header.css'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { Nav, Navbar, Form, Button} from 'react-bootstrap'\r\n\r\nexport const Header = () => {\r\n\r\n    const { currentUser, logout } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const history = useHistory()\r\n\r\n    async function handleLogout(){\r\n        setError('')\r\n\r\n        try {\r\n            await logout()\r\n            history.push('/')\r\n        } catch {\r\n            setError('Failed to Log out correctly!')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <Navbar collapseOnSelect expand=\"sm\"  bg=\"primary\" variant=\"dark\">\r\n                <Navbar.Brand>MOVIE-MATCH</Navbar.Brand>\r\n                <Navbar.Toggle />\r\n                <Navbar.Collapse>\r\n                <Nav className=\"mr-auto\">\r\n                {currentUser ? <>\r\n                <Nav.Link as={Link} to=\"/add\">Add My Movies</Nav.Link>               \r\n                <Nav.Link as={Link} to=\"/dashboard\">My Account</Nav.Link></> : null }\r\n                </Nav>\r\n                {currentUser ?\r\n                <Form inline>\r\n                <Button variant=\"outline-info\" onClick={handleLogout}>Logout</Button>\r\n                </Form> : null }\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport const ResultCard = (props) => {\r\n\r\n    const {movie, addMovie, faves} = props\r\n\r\n    let storedMovie = faves.find((obj) => obj.id === movie.id)\r\n\r\n    const favouritesDisabled = storedMovie ? true : false\r\n    const buttonText = !storedMovie ? 'Add' : 'Added'\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"result-card\">\r\n                <div className=\"poster-wrapper\">\r\n                    {movie.poster_path ? (\r\n                    <img\r\n                    src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\r\n                    alt={`${movie.title} Poster`}\r\n                  />\r\n                    ) : (\r\n                        <div className=\"filler-poster\"></div>\r\n                    )}\r\n                </div>\r\n                <div className=\"info\">\r\n                    <div className=\"header\">\r\n                        <h3 className=\"title\">{movie.title}</h3>\r\n                        <h4 className=\"release-date\">\r\n                            {movie.release_date ? movie.release_date.substring(0, 4) : '-'}\r\n                        </h4>\r\n                    </div>\r\n\r\n                    <div className=\"controls\">\r\n                        <button className=\"btn\"\r\n                        disabled={favouritesDisabled}\r\n                            onClick={() => addMovie(movie)}>\r\n                            {buttonText} to Favourites!\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport const MovieControls = ({movie}) => {\r\n    return (\r\n        <div className=\"inner-card-controls\">\r\n            <>\r\n                <button className=\"ctrl-btn\"\r\n                        onClick={() => {}}>\r\n                    <i className=\"fa-fw fa fa-times\"></i>\r\n                </button>\r\n            </>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { MovieControls } from './MovieControls'\r\n\r\nexport const MovieCard = ({ movie, removeMovie }) => {\r\n    return (\r\n        <div className=\"movie-card\" onClick={() => removeMovie(movie.movid)}>\r\n            <div className=\"overlay\"></div>\r\n\r\n            {movie.poster_path ? (\r\n                    <img\r\n                    src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\r\n                    alt={`${movie.title} Poster`}\r\n                  />\r\n                    ) : (\r\n                        <div className=\"filler-poster\"></div>\r\n                    )}\r\n\r\n            <MovieControls movie={movie} />\r\n            \r\n        </div>\r\n        \r\n    )\r\n}\r\n","import React from 'react'\r\nimport { MovieCard } from './MovieCard'\r\n\r\nexport const MyFaves = (props) => {\r\n    return (\r\n        <div className=\"movie-page\">\r\n            <div className=\"container\">\r\n                <div className=\"header\">\r\n                    <h1 className=\"heading\">\r\n                        My Favourite Movies\r\n                    </h1>\r\n                    <span className=\"count-pill\">\r\n                        {props.faves.length} {props.faves.length === 1 ? \"Movie\" : \"Movies\"}\r\n                    </span>\r\n                </div>\r\n\r\n                {props.faves.length > 0 ? (\r\n                    <div className=\"movie-grid\">\r\n                    {props.faves.map(movie => (\r\n                        <MovieCard key={movie.id} movie={movie} removeMovie={props.removeMovie} />\r\n                    ))}\r\n                </div>\r\n                ) : (<h2>No Movies yet !</h2>)}\r\n                \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { Modal, Button, Spinner, Alert} from 'react-bootstrap'\r\nimport {ResultCard} from './ResultCard'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport {MyFaves} from '../../components/Movie/MyFaves'\r\n\r\nexport const Add = () => {\r\n\r\n    const [faves, setFaves] = useState([])\r\n    const [query, setQuery] = useState('')\r\n    const [results, setResults] = useState([])\r\n    const [users, setUsers] = useState([])\r\n    const [lookingFor, setLookingFor] = useState('')\r\n    const [username, setUsername] = useState('')\r\n    const { currentUser } = useAuth()\r\n    const [matches, setMatches] = useState([])\r\n    const [show, setShow] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState()\r\n    const [showError, setShowError] = useState(false)\r\n\r\n    const onChange = e => {\r\n        e.preventDefault()\r\n        setQuery(e.target.value)\r\n\r\n        fetch(`https://api.themoviedb.org/3/search/movie?api_key=${process.env.REACT_APP_TMDB_KEY}&language=en-US&page=1&include_adult=false&query=${e.target.value}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if(!data.errors){\r\n                setResults(data.results)\r\n            } else {\r\n                setResults([])\r\n            }\r\n        })\r\n    }\r\n\r\n    // get current users desired gender and name for a match\r\n    useEffect(() => {\r\n        fetch('https://movie-match-4fe2b.firebaseio.com/db/users/' + currentUser.uid + '/userdetails.json')\r\n        .then(response => response.json())\r\n        .then(responseData => {\r\n            let loadedGender = ''\r\n            let loadedName = ''\r\n            \r\n            for(const key in responseData) {\r\n                loadedGender = responseData[key].lookingFor\r\n                loadedName = responseData[key].name\r\n            }\r\n            setLookingFor(loadedGender)\r\n            setUsername(loadedName)\r\n        })\r\n        .catch(error => {\r\n            setError('Error connecting to database. Please try again soon.')\r\n            setShowError(true)\r\n        })\r\n    }, [currentUser.uid])\r\n\r\n    // Get current user favourite movies\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        fetch('https://movie-match-4fe2b.firebaseio.com/db/users/' + currentUser.uid + '/favourites.json')\r\n        .then(response => {\r\n            setIsLoading(false)\r\n            return response.json()\r\n        })\r\n        .then(responseData => {\r\n            const loadedMovies = []\r\n            for(const key in responseData) {\r\n                \r\n                loadedMovies.push({\r\n                    movid: key,\r\n                    ...responseData[key]\r\n                })\r\n            }\r\n            setFaves(loadedMovies)\r\n        })\r\n        .catch(error => {\r\n            setError('Error loading your favourite movies. Please try again soon.')\r\n            setShowError(true)\r\n        })\r\n    }, [currentUser.uid])\r\n\r\n    // get all other user details from db\r\n    useEffect(() => {\r\n        fetch('https://movie-match-4fe2b.firebaseio.com/db/users.json')\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .then(responseData => {\r\n            \r\n            const loadedUsers = []\r\n            \r\n            for(const key in responseData) {\r\n                const userMovies = []\r\n                let userName = ''\r\n                let gender = ''\r\n                for(const fkey in responseData[key].favourites) {\r\n                    userMovies.push(responseData[key].favourites[fkey].id)\r\n                }\r\n\r\n                for(const nkey in responseData[key].userdetails) {\r\n                    userName = responseData[key].userdetails[nkey].name\r\n                    gender = responseData[key].userdetails[nkey].gender\r\n                }\r\n\r\n                if (key !== currentUser.uid) {\r\n                    loadedUsers.push({\r\n                        userid: key,\r\n                        name: userName,\r\n                        gender: gender,\r\n                        movies: userMovies\r\n                    })\r\n                }\r\n            }\r\n            setUsers(loadedUsers)\r\n        })\r\n        .catch(error => {\r\n            setError('Error connecting to database. Please try again soon.')\r\n            setShowError(true)\r\n        })\r\n    }, [currentUser.uid])\r\n    \r\n    // Add a new movie to favourites\r\n    const addMovie = movie => {\r\n        setIsLoading(true)\r\n        fetch('https://movie-match-4fe2b.firebaseio.com/db/users/' + currentUser.uid + '/favourites.json',\r\n        {\r\n            method: 'POST',\r\n            body: JSON.stringify(movie),\r\n            headers: { 'Content-Type':'application/json'}\r\n        }).then(response => {\r\n            setIsLoading(false)\r\n            return response.json()\r\n        }).then(responseData => {\r\n            setFaves(prevFaves => [...prevFaves, {\r\n                movid: responseData.name, ...movie\r\n            }\r\n        ])\r\n        })\r\n        .catch(error => {\r\n            setError('Error adding a movie. Please try again.')\r\n            setShowError(true)\r\n        })\r\n    }\r\n\r\n    // Remove a movie from favourites\r\n    const removeMovie = movieId => {\r\n        setIsLoading(true)\r\n        fetch('https://movie-match-4fe2b.firebaseio.com/db/users/' + currentUser.uid + '/favourites/' + movieId + '.json',\r\n        {\r\n            method: 'DELETE'            \r\n        }).then(response => {\r\n            setIsLoading(false)\r\n            setFaves(prevFaves => prevFaves.filter(movie => movie.movid !== movieId))\r\n        })\r\n        .catch(error => {\r\n            setError('Error removing a movie. Please try again.')\r\n            setShowError(true)\r\n        })\r\n    }\r\n\r\n    const findMatches = (myfaves, objectFaves) => {\r\n        const yourMatches = []\r\n        let prevName = ''\r\n        for(let x=0;x<objectFaves.length;x++) { // this loops thru the array of objects\r\n            //now in first object\r\n            for(let y=0;y<objectFaves[x].movies.length;y++) { // loop thru movie array of object\r\n\r\n                for(let z=0;z<myfaves.length;z++){\r\n\r\n                    if(objectFaves[x].movies[y] === myfaves[z] && objectFaves[x].gender === lookingFor) {\r\n                        if (prevName !== objectFaves[x].name) {\r\n                            yourMatches.push({\r\n                                user: objectFaves[x].name,\r\n                                counter: 1\r\n                            })\r\n                        } else if (prevName === objectFaves[x].name) {\r\n                            yourMatches[yourMatches.length - 1].counter ++\r\n                        }\r\n                        prevName = objectFaves[x].name\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        setMatches(yourMatches)\r\n    }\r\n\r\n    // putting current users favourite movie IDs into array\r\n    const arrayFaves = []\r\n    faves.map(movie => arrayFaves.push(movie.id))\r\n    const areThereFaves = arrayFaves.length > 0 ? false : true\r\n\r\n    let matchesOutput\r\n\r\n    if(matches.length) {\r\n    matchesOutput = matches.map(match => {\r\n        return <div key={match.user}>You have <strong>{match.counter} </strong>\r\n        {match.counter > 1 ? ' matches' : ' match'} with <span style={{\r\n            backgroundColor:'#21d07a',\r\n            padding: '3px',\r\n            color: 'white',\r\n            textTransform: 'uppercase'\r\n        }}>{match.user}</span></div>\r\n    }) } else {\r\n        matchesOutput = <div>Nothing yet!</div>\r\n    }\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    return (\r\n        <>\r\n        {error && showError && <Alert variant=\"danger\" onClose={() => setShowError(false)} dismissible >{error}</Alert> }\r\n        <div className=\"add-page\">\r\n        \r\n            <div className=\"container\">\r\n                <div className=\"add-content\">\r\n                    <div className=\"input-wrapper\">\r\n                    <h2 className=\"text-center mb-4\">Hi {username}, \r\n                    please add movies and...\r\n                    <Button\r\n                        disabled={areThereFaves}\r\n                        variant=\"primary\" \r\n                        onClick={() => { findMatches(arrayFaves, users); handleShow();}}\r\n                    >find your matches!</Button></h2>\r\n                        <input type=\"text\" \r\n                        placeholder=\"Search Movies!\"\r\n                        value={query}\r\n                        onChange={onChange} />\r\n                    </div>\r\n                    {results.length > 0 && (\r\n                        // <ul className=\"results\">\r\n                        <div className=\"movie-grid-results\">\r\n                            {results.map(movie => (\r\n                                <div className=\"movie-card\" key={movie.id}>\r\n                                    <ResultCard \r\n                                        addMovie={addMovie} \r\n                                        movie={movie} \r\n                                        faves={faves}\r\n                                        />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div className=\"container\">\r\n        \r\n        {isLoading ? <Spinner animation=\"border\" variant=\"primary\" /> : <MyFaves faves={faves} removeMovie={removeMovie}/>}\r\n        </div>\r\n\r\n        <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Your Movie Matches!</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{matchesOutput}</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n        </>\r\n    )\r\n}\r\n","import React, {useRef, useState } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport const Signup = () => {\r\n\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { signup } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError('Passwords do not match')\r\n        }\r\n\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, passwordRef.current.value)\r\n            // history.push(\"/add\")\r\n            history.push(\"/my-details\")\r\n        } catch (error) {\r\n            setError('Failed to create an account!')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <div style={{width:'70%', margin: '0 auto', paddingTop: '2rem'}}>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} required />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password-confirmation\">\r\n                            <Form.Label>Password Confirmation</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n                        </Form.Group>\r\n                        <Button disabled={loading} className=\"w-100\" type=\"submit\">Sign Up</Button>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already have an account? <Link to=\"/\"><Button>Login</Button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useRef, useState } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport const Login = () => {\r\n\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const { login } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await login(emailRef.current.value, passwordRef.current.value)\r\n            history.push(\"/add\")\r\n        } catch (error) {\r\n            setError('Failed to login!')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <div style={{width:'70%', margin: '0 auto', paddingTop: '2rem'}}>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Login</h2>\r\n                    <h6 className=\"text-center mb-4\">For demo purposes use the following login \r\n                    details: Email - test@test.com, Password - 123456</h6>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} required />\r\n                        </Form.Group>\r\n                        <Button disabled={loading} className=\"w-100\" type=\"submit\">Login</Button>\r\n                    </Form>\r\n                    <div className=\"w-100 text-center mt-3\" >\r\n                        <Link to=\"/forgot-password\" style={{color:'black'}}>Forgot Password?</Link>\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Need an account? <Link to=\"/signup\"><Button>Sign Up</Button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { Card, Button, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport const Dashboard = () => {\r\n\r\n    const [error, setError] = useState('')\r\n    const { currentUser, logout } = useAuth()\r\n    const history = useHistory()\r\n\r\n    async function handleLogout(){\r\n        setError('')\r\n\r\n        try {\r\n            await logout()\r\n            history.push('/')\r\n        } catch {\r\n            setError('Failed to Log out correctly!')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{width:'70%', margin: '0 auto', paddingTop: '2rem'}}>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Profile Page</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <strong>Email: {currentUser.email}</strong><br/>\r\n                    <strong>User Id: {currentUser.uid}</strong>\r\n                    <Link to = \"/update-profile\" className=\"btn btn-primary w-100 mt-3\">Update Profile</Link>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                <Button onClick={handleLogout}>Log Out</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, {useState } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport const MyDetails = () => {\r\n\r\n    const [yourName, setYourName] = useState('');\r\n    const [yourGender, setYourGender] = useState('Male');\r\n    const [lookingForGender, setLookingForGender] = useState('Male');\r\n    const [error, setError] = useState('')\r\n    const { currentUser, logout } = useAuth()\r\n    const history = useHistory()\r\n\r\n    async function handleLogout(){\r\n        setError('')\r\n\r\n        try {\r\n            await logout()\r\n            history.push('/')\r\n        } catch {\r\n            setError('Failed to Log out correctly!')\r\n        }\r\n    }\r\n\r\n    const submitHandler = event => {\r\n        event.preventDefault();\r\n        alert(\"You will now need to login with your chosen email and password to confirm your account\")\r\n        onAddYourDetails({ name: yourName, gender: yourGender, lookingFor: lookingForGender });\r\n      };\r\n\r\n    const onAddYourDetails = (yourDetails) => {\r\n        fetch('https://movie-match-4fe2b.firebaseio.com/db/users/' + currentUser.uid + '/userdetails.json',\r\n        {\r\n            method: 'POST',\r\n            body: JSON.stringify(yourDetails),\r\n            headers: { 'Content-Type':'application/json'}\r\n        })\r\n        handleLogout()\r\n    }\r\n\r\n    return (\r\n        <div style={{width:'70%', margin: '0 auto', paddingTop: '2rem'}}>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Add Your Personal Details</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={submitHandler}>\r\n                        <Form.Group id=\"name\">\r\n                            <Form.Label>Your Name</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\" required \r\n                                value={yourName}\r\n                                onChange={event => {\r\n                                    setYourName(event.target.value);\r\n                                  }}\r\n                                />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"gender\">\r\n                            <Form.Label>Your Gender</Form.Label>\r\n                            <Form.Control \r\n                                as=\"select\" required \r\n                                value={yourGender}\r\n                                onChange={event => {\r\n                                    setYourGender(event.target.value);\r\n                                  }}>\r\n                                <option>Male</option>\r\n                                <option>Female</option>\r\n                                <option>Other</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"lookingFor\">\r\n                            <Form.Label>You are looking for:</Form.Label>\r\n                            <Form.Control \r\n                                as=\"select\" required \r\n                                value={lookingForGender}\r\n                                onChange={event => {\r\n                                    setLookingForGender(event.target.value);\r\n                                  }}>\r\n                                    <option>Male</option>\r\n                                    <option>Female</option>\r\n                                    <option>Other</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Button className=\"w-100\" type=\"submit\">Submit</Button>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already have an account? <Link to=\"/\"><Button>Login</Button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { useAuth } from '../../context/AuthContext'\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n\r\n    const { currentUser } = useAuth()\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => {\r\n                return currentUser ? <Component {...props} /> : <Redirect to=\"/\" />\r\n            }}\r\n        ></Route>\r\n    )\r\n}\r\n","import React, {useRef, useState } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function ForgotPassword() {\r\n\r\n    const emailRef = useRef()\r\n    const { resetPassword } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setMessage('')\r\n            setError('')\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage('Check your inbox for further instructions')\r\n        } catch (error) {\r\n            setError('Failed to reset password!')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <div style={{width:'70%', margin: '0 auto', paddingTop: '2rem'}}>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Reset Your Password</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    {message && <Alert variant=\"success\">{message}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required />\r\n                        </Form.Group>\r\n                        \r\n                        <Button disabled={loading} className=\"w-100\" type=\"submit\">Reset Password</Button>\r\n                    </Form>\r\n                    <div className=\"w-100 text-center mt-3\">\r\n                        <Link to=\"/\" style={{color:'black'}}>Login</Link>\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Need an account? <Link to=\"/signup\"><Button>Sign Up</Button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, {useRef, useState } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport default function UpdateProfile() {\r\n\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { currentUser, updatePassword, updateEmail } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError('Passwords do not match')\r\n        }\r\n        \r\n        const promises = []\r\n        setLoading(true)\r\n        setError('')\r\n        if(emailRef.current.value !== currentUser.email){\r\n            promises.push(updateEmail(emailRef.current.value))\r\n        }\r\n\r\n        if(passwordRef.current.value) {\r\n            promises.push(updatePassword(passwordRef.current.value))\r\n        }\r\n\r\n        Promise.all(promises).then(() => {\r\n            history.push('/dashboard')\r\n        }).catch(() => {\r\n            setError(\"Failed to update account\")\r\n        }).finally(() => {\r\n            setLoading(false)\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <div style={{width:'70%', margin: '0 auto', paddingTop: '2rem'}}>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required\r\n                            defaultValue={currentUser.email} />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} \r\n                            placeholder=\"Leave blank to keep same password!\" />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password-confirmation\">\r\n                            <Form.Label>Password Confirmation</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordConfirmRef} \r\n                            placeholder=\"Leave blank to keep same password!\" />\r\n                        </Form.Group>\r\n                        <Button disabled={loading} className=\"w-100\" type=\"submit\">Update</Button>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                <Link to=\"/dashboard\"><Button>Cancel</Button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext} from 'react'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport { MovieCard } from './MovieCard'\r\n\r\n\r\nconst Favourites = () => {\r\n\r\n    const { currentUser } = useAuth()\r\n    \r\n    return (\r\n        <div className=\"movie-page\">\r\n            <div className=\"container\">\r\n                <div className=\"header\">\r\n                    <h1 className=\"heading\">\r\n                        My Favourite Movies\r\n                    </h1>\r\n                    {/* <span className=\"count-pill\">\r\n                        {appFaves.length} {appFaves.length === 1 ? \"Movie\" : \"Movies\"}\r\n                    </span> */}\r\n                    <div>{currentUser.uid}</div>\r\n                </div>\r\n\r\n                {/* {appFaves.length > 0 ? (\r\n                    <div className=\"movie-grid\">\r\n                    {appFaves.map(movie => (\r\n                        <MovieCard movie={movie} />\r\n                    ))}\r\n                </div>\r\n                ) : (<h2>No Movies yet !</h2>)} */}\r\n                \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\nexport default Favourites","import React from 'react';\nimport './App.css'\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\nimport {Header} from './components/Header'\nimport {Add} from './components/Movie/Add'\nimport {Signup} from './components/Auth/Signup'\nimport {Login} from './components/Auth/Login'\nimport {Dashboard} from './components/Auth/Dashboard'\nimport {MyDetails} from './components/Auth/MyDetails'\nimport PrivateRoute from './components/Auth/PrivateRoute'\nimport ForgotPassword from './components/Auth/ForgotPassword';\nimport UpdateProfile from './components/Auth/UpdateProfile';\n\nimport Favourites from './components/Movie/Favourites'\n\nimport { useAuth } from './context/AuthContext'\n\nimport './lib/font-awesome/css/all.min.css'\n\nfunction App() {\n\n  const { currentUser } = useAuth()\n\n  return (\n    <>\n      <Router>\n        <Header/>\n\n        <Switch>\n          \n          { currentUser ? null : <>\n          <Route exact path=\"/\" component={Login} />\n          <Route exact path=\"/login\" component={Login} />  \n          <Route exact path=\"/signup\" component={Signup} />\n          <Route exact path=\"/forgot-password\" component={ForgotPassword} />\n          </>\n            \n          } \n          <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n          <PrivateRoute path=\"/faves\" component={Favourites} />\n          <PrivateRoute path=\"/my-details\" component={MyDetails} />\n          <PrivateRoute path=\"/add\" component={Add} />\n          <Route exact path=\"/\" component={Dashboard} />\n          \n        </Switch>\n      </Router>\n    </>\n  \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport App from './App';\nimport { AuthProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <AuthProvider>\n    <App />\n  </AuthProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}